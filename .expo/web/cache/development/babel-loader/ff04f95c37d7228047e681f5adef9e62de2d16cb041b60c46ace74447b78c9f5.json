{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { Component } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Arrow from \"./Arrow\";\nimport { DEBUG, DEFAULT_ARROW_SIZE, FIX_SHIFT, isWeb, styles } from \"./Constants\";\nimport { computeGeometry, Geometry } from \"./Geometry\";\nimport { Placement, Point, Rect, Size } from \"./Types\";\nimport { getChangedProps, getRectForRef } from \"./Utility\";\nvar BasePopover = function (_super) {\n  __extends(BasePopover, _super);\n  function BasePopover() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      requestedContentSize: null,\n      activeGeom: undefined,\n      nextGeom: undefined,\n      showing: false,\n      animatedValues: {\n        scale: new Animated.Value(0),\n        translate: new Animated.ValueXY(),\n        fade: new Animated.Value(0),\n        translateArrow: new Animated.ValueXY()\n      }\n    };\n    _this._isMounted = false;\n    _this.animating = false;\n    _this.animateOutAfterShow = false;\n    _this.popoverRef = React.createRef();\n    _this.arrowRef = React.createRef();\n    return _this;\n  }\n  BasePopover.prototype.debug = function (line, obj) {\n    if (DEBUG || this.props.debug) console.log(\"[\" + new Date().toISOString() + \"] \" + line + (obj ? \": \" + JSON.stringify(obj) : ''));\n  };\n  BasePopover.prototype.componentDidMount = function () {\n    this._isMounted = true;\n  };\n  BasePopover.prototype.componentDidUpdate = function (prevProps) {\n    var importantProps = ['isVisible', 'fromRect', 'displayArea', 'verticalOffset', 'offset', 'placement'];\n    var changedProps = getChangedProps(this.props, prevProps, importantProps);\n    if (!changedProps.length) return;\n    this.debug('[BasePopover] componentDidUpdate - changedProps', changedProps);\n    if (this.props.isVisible !== prevProps.isVisible) {\n      this.debug(\"componentDidUpdate - isVisible changed, now \" + this.props.isVisible);\n      if (!this.props.isVisible) {\n        if (this.state.showing) this.animateOut();else this.animateOutAfterShow = true;\n        this.debug('componentDidUpdate - Hiding popover');\n      }\n    } else if (this.props.isVisible && prevProps.isVisible) {\n      this.debug('componentDidUpdate - isVisible not changed, handling other changes');\n      this.handleChange();\n    }\n  };\n  BasePopover.prototype.componentWillUnmount = function () {\n    this._isMounted = false;\n    if (this.state.showing) {\n      this.debug('componentWillUnmount');\n      this.animateOut();\n    }\n  };\n  BasePopover.prototype.measureContent = function (requestedContentSize) {\n    var _this = this;\n    if (!requestedContentSize.width) {\n      console.warn(\"Popover Warning - Can't Show - The Popover content has a width of 0, so there is nothing to present.\");\n      return;\n    }\n    if (!requestedContentSize.height) {\n      console.warn(\"Popover Warning - Can't Show - The Popover content has a height of 0, so there is nothing to present.\");\n      return;\n    }\n    if (this.props.skipMeasureContent()) {\n      this.debug(\"measureContent - Skipping, waiting for resize to finish\");\n      return;\n    }\n    if (!this.state.requestedContentSize || !requestedContentSize.equals(this.state.requestedContentSize)) {\n      this.debug(\"measureContent - new requestedContentSize: \" + JSON.stringify(requestedContentSize) + \" (used to be \" + JSON.stringify(this.state.requestedContentSize) + \")\");\n      this.setState({\n        requestedContentSize: requestedContentSize\n      }, function () {\n        return _this.handleChange();\n      });\n    } else {\n      this.debug(\"measureContent - Skipping, content size did not change\");\n    }\n  };\n  BasePopover.prototype.handleChange = function () {\n    var _this = this;\n    if (this.handleChangeTimeout) clearTimeout(this.handleChangeTimeout);\n    if (!this.state.requestedContentSize) {\n      this.debug('handleChange - no requestedContentSize, exiting...');\n      return;\n    }\n    this.debug('handleChange - waiting 100ms to accumulate all changes');\n    this.handleChangeTimeout = setTimeout(function () {\n      var _a = _this.state,\n        activeGeom = _a.activeGeom,\n        animatedValues = _a.animatedValues,\n        requestedContentSize = _a.requestedContentSize;\n      var _b = _this.props,\n        arrowSize = _b.arrowSize,\n        popoverStyle = _b.popoverStyle,\n        fromRect = _b.fromRect,\n        displayArea = _b.displayArea,\n        placement = _b.placement,\n        onOpenStart = _b.onOpenStart,\n        arrowShift = _b.arrowShift,\n        onPositionChange = _b.onPositionChange,\n        offset = _b.offset,\n        popoverShift = _b.popoverShift;\n      if (requestedContentSize) {\n        _this.debug('handleChange - requestedContentSize', requestedContentSize);\n        _this.debug('handleChange - displayArea', displayArea);\n        _this.debug('handleChange - fromRect', fromRect);\n        if (placement) _this.debug('handleChange - placement', placement.toString());\n        var geom_1 = computeGeometry({\n          requestedContentSize: requestedContentSize,\n          placement: placement,\n          fromRect: fromRect,\n          displayArea: displayArea,\n          arrowSize: arrowSize || DEFAULT_ARROW_SIZE,\n          popoverStyle: popoverStyle,\n          arrowShift: arrowShift,\n          debug: _this.debug.bind(_this),\n          previousPlacement: _this.getGeom().placement,\n          offset: offset,\n          popoverShift: popoverShift\n        });\n        _this.setState({\n          nextGeom: geom_1,\n          requestedContentSize: requestedContentSize\n        }, function () {\n          if (geom_1.viewLargerThanDisplayArea.width || geom_1.viewLargerThanDisplayArea.height) {\n            _this.debug('handleChange - delaying showing popover because viewLargerThanDisplayArea');\n          } else if (!activeGeom) {\n            _this.debug('handleChange - animating in');\n            if (onOpenStart) setTimeout(onOpenStart);\n            _this.animateIn();\n          } else if (activeGeom && !Geometry.equals(activeGeom, geom_1)) {\n            var moveTo = new Point(geom_1.popoverOrigin.x, geom_1.popoverOrigin.y);\n            _this.debug('handleChange - Triggering popover move to', moveTo);\n            _this.animateTo({\n              values: animatedValues,\n              fade: 1,\n              scale: 1,\n              translatePoint: moveTo,\n              easing: Easing.inOut(Easing.quad),\n              geom: geom_1,\n              callback: onPositionChange\n            });\n          } else {\n            _this.debug('handleChange - no change');\n          }\n        });\n      }\n    }, 100);\n  };\n  BasePopover.getPolarity = function () {\n    return I18nManager.isRTL ? -1 : 1;\n  };\n  BasePopover.prototype.getGeom = function () {\n    var _a = this.state,\n      activeGeom = _a.activeGeom,\n      nextGeom = _a.nextGeom;\n    if (activeGeom) return activeGeom;\n    if (nextGeom) return nextGeom;\n    return new Geometry({\n      popoverOrigin: new Point(0, 0),\n      anchorPoint: new Point(0, 0),\n      placement: Placement.AUTO,\n      forcedContentSize: new Size(0, 0),\n      viewLargerThanDisplayArea: {\n        width: false,\n        height: false\n      }\n    });\n  };\n  BasePopover.prototype.getTranslateOrigin = function () {\n    var requestedContentSize = this.state.requestedContentSize;\n    var arrowSize = this.props.arrowSize || DEFAULT_ARROW_SIZE;\n    var _a = this.getGeom(),\n      forcedContentSize = _a.forcedContentSize,\n      viewLargerThanDisplayArea = _a.viewLargerThanDisplayArea,\n      anchorPoint = _a.anchorPoint,\n      placement = _a.placement;\n    var viewWidth = 0;\n    if (viewLargerThanDisplayArea.width && (forcedContentSize === null || forcedContentSize === void 0 ? void 0 : forcedContentSize.width)) viewWidth = forcedContentSize.width;else if (requestedContentSize === null || requestedContentSize === void 0 ? void 0 : requestedContentSize.width) viewWidth = requestedContentSize.width;\n    if ([Placement.LEFT, Placement.RIGHT].includes(placement)) viewWidth += arrowSize.height;\n    var viewHeight = 0;\n    if (viewLargerThanDisplayArea.height && (forcedContentSize === null || forcedContentSize === void 0 ? void 0 : forcedContentSize.height)) viewHeight = forcedContentSize.height;else if (requestedContentSize === null || requestedContentSize === void 0 ? void 0 : requestedContentSize.height) viewHeight = requestedContentSize.height;\n    if ([Placement.TOP, Placement.BOTTOM].includes(placement)) viewHeight += arrowSize.height;\n    this.debug('getTranslateOrigin - popoverSize', {\n      width: viewWidth,\n      height: viewHeight\n    });\n    this.debug('getTranslateOrigin - anchorPoint', anchorPoint);\n    return new Point(anchorPoint.x - viewWidth / 2, anchorPoint.y - viewHeight / 2);\n  };\n  BasePopover.prototype.animateOut = function () {\n    var _this = this;\n    if (this.props.onCloseStart) setTimeout(this.props.onCloseStart);\n    if (this._isMounted) this.setState({\n      showing: false\n    });\n    this.debug('animateOut - isMounted', this._isMounted);\n    this.animateTo({\n      values: this.state.animatedValues,\n      fade: 0,\n      scale: 0,\n      translatePoint: this.getTranslateOrigin(),\n      callback: function callback() {\n        return setTimeout(_this.props.onCloseComplete);\n      },\n      easing: Easing.inOut(Easing.quad),\n      geom: this.getGeom()\n    });\n  };\n  BasePopover.prototype.animateIn = function () {\n    var _this = this;\n    var nextGeom = this.state.nextGeom;\n    if (nextGeom !== undefined && nextGeom instanceof Geometry) {\n      var values = this.state.animatedValues;\n      var translateStart = this.getTranslateOrigin();\n      translateStart.y += FIX_SHIFT;\n      values.translate.setValue(translateStart);\n      var translatePoint = new Point(nextGeom.popoverOrigin.x, nextGeom.popoverOrigin.y);\n      this.debug('animateIn - translateStart', translateStart);\n      this.debug('animateIn - translatePoint', translatePoint);\n      this.animateTo({\n        values: values,\n        fade: 1,\n        scale: 1,\n        translatePoint: translatePoint,\n        easing: Easing.out(Easing.back(1)),\n        geom: nextGeom,\n        callback: function callback() {\n          if (_this._isMounted) {\n            _this.setState({\n              showing: true\n            });\n            if (_this.props.debug || DEBUG) {\n              setTimeout(function () {\n                return _this.popoverRef.current && getRectForRef(_this.popoverRef).then(function (rect) {\n                  return _this.debug('animateIn - onOpenComplete - Calculated Popover Rect', rect);\n                });\n              });\n              setTimeout(function () {\n                return _this.arrowRef.current && getRectForRef(_this.arrowRef).then(function (rect) {\n                  return _this.debug('animateIn - onOpenComplete - Calculated Arrow Rect', rect);\n                });\n              });\n            }\n          }\n          if (_this.props.onOpenComplete) setTimeout(_this.props.onOpenComplete);\n          if (_this.animateOutAfterShow || !_this._isMounted) {\n            _this.animateOut();\n            _this.animateOutAfterShow = false;\n          }\n        }\n      });\n    }\n  };\n  BasePopover.prototype.animateTo = function (args) {\n    var _this = this;\n    var fade = args.fade,\n      translatePoint = args.translatePoint,\n      scale = args.scale,\n      callback = args.callback,\n      easing = args.easing,\n      values = args.values;\n    var commonConfig = __assign({\n      duration: 300,\n      easing: easing,\n      useNativeDriver: !isWeb\n    }, this.props.animationConfig);\n    if (this.animating) {\n      setTimeout(function () {\n        return _this.animateTo(args);\n      }, 100);\n      return;\n    }\n    translatePoint.y = translatePoint.y + FIX_SHIFT;\n    if (!fade && fade !== 0) {\n      console.log('Popover: Fade value is null');\n      return;\n    }\n    if (!translatePoint) {\n      console.log('Popover: Translate Point value is null');\n      return;\n    }\n    if (!scale && scale !== 0) {\n      console.log('Popover: Scale value is null');\n      return;\n    }\n    this.animating = true;\n    Animated.parallel([Animated.timing(values.fade, __assign(__assign({}, commonConfig), {\n      toValue: fade\n    })), Animated.timing(values.translate, __assign(__assign({}, commonConfig), {\n      toValue: translatePoint\n    })), Animated.timing(values.scale, __assign(__assign({}, commonConfig), {\n      toValue: scale\n    }))]).start(function () {\n      _this.animating = false;\n      if (_this._isMounted) _this.setState({\n        activeGeom: _this.state.nextGeom\n      });\n      if (callback) callback();\n    });\n  };\n  BasePopover.prototype.render = function () {\n    var _this = this;\n    var _a = this.state,\n      animatedValues = _a.animatedValues,\n      nextGeom = _a.nextGeom,\n      requestedContentSize = _a.requestedContentSize;\n    var flattenedPopoverStyle = StyleSheet.flatten(this.props.popoverStyle);\n    var arrowSize = this.props.arrowSize || DEFAULT_ARROW_SIZE;\n    var geom = this.getGeom();\n    var transformStyle = __assign(__assign({\n      position: 'absolute'\n    }, requestedContentSize), {\n      transform: [{\n        translateX: animatedValues.translate.x\n      }, {\n        translateY: animatedValues.translate.y\n      }, {\n        scale: animatedValues.scale\n      }]\n    });\n    var shadowOffset = flattenedPopoverStyle.shadowOffset,\n      shadowColor = flattenedPopoverStyle.shadowColor,\n      shadowOpacity = flattenedPopoverStyle.shadowOpacity,\n      shadowRadius = flattenedPopoverStyle.shadowRadius,\n      elevation = flattenedPopoverStyle.elevation,\n      otherPopoverStyles = __rest(flattenedPopoverStyle, [\"shadowOffset\", \"shadowColor\", \"shadowOpacity\", \"shadowRadius\", \"elevation\"]);\n    var shadowStyle = {\n      shadowOffset: shadowOffset,\n      shadowColor: shadowColor,\n      shadowOpacity: shadowOpacity,\n      shadowRadius: shadowRadius\n    };\n    var contentWrapperStyle = __assign(__assign(__assign({}, styles.popoverContent), otherPopoverStyles), {\n      elevation: elevation\n    });\n    if (nextGeom) {\n      contentWrapperStyle.maxWidth = nextGeom.forcedContentSize.width;\n      contentWrapperStyle.maxHeight = nextGeom.forcedContentSize.height;\n    }\n    var arrowPositionStyle = {};\n    if (geom.placement === Placement.RIGHT || geom.placement === Placement.LEFT) {\n      arrowPositionStyle.top = geom.anchorPoint.y - geom.popoverOrigin.y - arrowSize.height;\n      if (transformStyle.width) transformStyle.width += arrowSize.height;\n      if (geom.placement === Placement.RIGHT) contentWrapperStyle.left = arrowSize.height;\n    } else if (geom.placement === Placement.TOP || geom.placement === Placement.BOTTOM) {\n      arrowPositionStyle.left = geom.anchorPoint.x - geom.popoverOrigin.x - arrowSize.width / 2;\n      if (transformStyle.height) transformStyle.height += arrowSize.height;\n      if (geom.placement === Placement.BOTTOM) contentWrapperStyle.top = arrowSize.height;\n    }\n    switch (geom.placement) {\n      case Placement.TOP:\n        arrowPositionStyle.bottom = 0;\n        break;\n      case Placement.BOTTOM:\n        arrowPositionStyle.top = 0;\n        break;\n      case Placement.LEFT:\n        arrowPositionStyle.right = 0;\n        break;\n      case Placement.RIGHT:\n        arrowPositionStyle.left = 0;\n        break;\n      default:\n    }\n    var backgroundShift = animatedValues.fade.interpolate({\n      inputRange: [0, 0.0001, 1],\n      outputRange: [0, FIX_SHIFT, FIX_SHIFT]\n    });\n    var backgroundStyle = __assign(__assign(__assign({}, styles.background), {\n      transform: [{\n        translateY: backgroundShift\n      }]\n    }), StyleSheet.flatten(this.props.backgroundStyle));\n    var containerStyle = __assign(__assign({}, styles.container), {\n      opacity: animatedValues.fade\n    });\n    var backgroundColor = flattenedPopoverStyle.backgroundColor || styles.popoverContent.backgroundColor;\n    return React.createElement(View, {\n      pointerEvents: \"box-none\",\n      style: [styles.container, {\n        top: -1 * FIX_SHIFT\n      }]\n    }, React.createElement(View, {\n      pointerEvents: \"box-none\",\n      style: [styles.container, {\n        top: FIX_SHIFT,\n        flex: 1\n      }],\n      onLayout: function onLayout(evt) {\n        return _this.props.onDisplayAreaChanged(new Rect(evt.nativeEvent.layout.x, evt.nativeEvent.layout.y - FIX_SHIFT, evt.nativeEvent.layout.width, evt.nativeEvent.layout.height));\n      }\n    }), React.createElement(Animated.View, {\n      pointerEvents: \"box-none\",\n      style: containerStyle\n    }, this.props.showBackground !== false && React.createElement(TouchableWithoutFeedback, {\n      onPress: this.props.onRequestClose\n    }, React.createElement(Animated.View, {\n      style: backgroundStyle\n    })), React.createElement(View, {\n      pointerEvents: \"box-none\",\n      style: __assign({\n        top: 0,\n        left: 0\n      }, shadowStyle)\n    }, React.createElement(Animated.View, {\n      style: transformStyle\n    }, React.createElement(View, {\n      ref: this.popoverRef,\n      style: contentWrapperStyle,\n      onLayout: function onLayout(evt) {\n        var layout = __assign({}, evt.nativeEvent.layout);\n        setTimeout(function () {\n          return _this._isMounted && _this.measureContent(new Size(layout.width, layout.height));\n        }, 10);\n      }\n    }, this.props.children), geom.placement !== Placement.FLOATING && React.createElement(Arrow, {\n      ref: this.arrowRef,\n      placement: geom.placement,\n      color: backgroundColor,\n      arrowSize: arrowSize,\n      positionStyle: arrowPositionStyle,\n      elevation: elevation\n    })))));\n  };\n  return BasePopover;\n}(Component);\nexport default BasePopover;","map":{"version":3,"names":["React","Component","Animated","Easing","I18nManager","StyleSheet","TouchableWithoutFeedback","View","Arrow","DEBUG","DEFAULT_ARROW_SIZE","FIX_SHIFT","isWeb","styles","computeGeometry","Geometry","Placement","Point","Rect","Size","getChangedProps","getRectForRef","BasePopover","_super","__extends","_this","apply","arguments","state","requestedContentSize","activeGeom","undefined","nextGeom","showing","animatedValues","scale","Value","translate","ValueXY","fade","translateArrow","_isMounted","animating","animateOutAfterShow","popoverRef","createRef","arrowRef","prototype","debug","line","obj","props","console","log","Date","toISOString","JSON","stringify","componentDidMount","componentDidUpdate","prevProps","importantProps","changedProps","length","isVisible","animateOut","handleChange","componentWillUnmount","measureContent","width","warn","height","skipMeasureContent","equals","setState","handleChangeTimeout","clearTimeout","setTimeout","_a","_b","arrowSize","popoverStyle","fromRect","displayArea","placement","onOpenStart","arrowShift","onPositionChange","offset","popoverShift","toString","geom_1","bind","previousPlacement","getGeom","viewLargerThanDisplayArea","animateIn","moveTo","popoverOrigin","x","y","animateTo","values","translatePoint","easing","inOut","quad","geom","callback","getPolarity","isRTL","anchorPoint","AUTO","forcedContentSize","getTranslateOrigin","viewWidth","LEFT","RIGHT","includes","viewHeight","TOP","BOTTOM","onCloseStart","onCloseComplete","translateStart","setValue","out","back","current","then","rect","onOpenComplete","args","commonConfig","__assign","duration","useNativeDriver","animationConfig","parallel","timing","toValue","start","render","flattenedPopoverStyle","flatten","transformStyle","position","transform","translateX","translateY","shadowOffset","shadowColor","shadowOpacity","shadowRadius","elevation","otherPopoverStyles","__rest","shadowStyle","contentWrapperStyle","popoverContent","maxWidth","maxHeight","arrowPositionStyle","top","left","bottom","right","backgroundShift","interpolate","inputRange","outputRange","backgroundStyle","background","containerStyle","container","opacity","backgroundColor","createElement","pointerEvents","style","flex","onLayout","evt","onDisplayAreaChanged","nativeEvent","layout","showBackground","onPress","onRequestClose","ref","children","FLOATING","color","positionStyle"],"sources":["/home/senac/Docks-mobile-P.I/node_modules/react-native-popover-view/src/BasePopover.tsx"],"sourcesContent":["import React, { Component, ReactNode } from 'react';\nimport { Animated, Easing, EasingFunction, I18nManager, LayoutChangeEvent, StyleSheet, TouchableWithoutFeedback, View, ViewStyle } from 'react-native';\nimport Arrow, { ArrowProps } from './Arrow';\nimport { DEBUG, DEFAULT_ARROW_SIZE, FIX_SHIFT, isWeb, styles } from './Constants';\nimport { computeGeometry, Geometry } from './Geometry';\nimport { Placement, Point, PopoverProps, Rect, Size } from './Types';\nimport { getChangedProps, getRectForRef } from './Utility';\n\ntype BasePopoverProps = Omit<PopoverProps, 'displayAreaInsets'> & {\n  displayArea: Rect;\n  showBackground?: boolean;\n  fromRect: Rect | null;\n  onDisplayAreaChanged: (rect: Rect) => void;\n  skipMeasureContent: () => boolean;\n}\n\ninterface BasePopoverState {\n  requestedContentSize: Size | null;\n  activeGeom: Geometry | undefined,\n  nextGeom: Geometry | undefined,\n  showing: boolean;\n  animatedValues: {\n    scale: Animated.Value,\n    translate: Animated.ValueXY,\n    fade: Animated.Value,\n    translateArrow: Animated.ValueXY\n  }\n}\n\n\nexport default class BasePopover extends Component<BasePopoverProps, BasePopoverState> {\n  state: BasePopoverState = {\n    requestedContentSize: null,\n    activeGeom: undefined,\n    nextGeom: undefined,\n    showing: false,\n    animatedValues: {\n      scale: new Animated.Value(0),\n      translate: new Animated.ValueXY(),\n      fade: new Animated.Value(0),\n      translateArrow: new Animated.ValueXY()\n    }\n  }\n\n  private _isMounted = false;\n  private animating = false;\n  private animateOutAfterShow = false;\n\n  private popoverRef = React.createRef<View>();\n  private arrowRef = React.createRef<View>();\n\n  private handleChangeTimeout?: ReturnType<typeof setTimeout>;\n\n  debug(line: string, obj?: unknown): void {\n    if (DEBUG || this.props.debug)\n      console.log(`[${(new Date()).toISOString()}] ${line}${obj ? `: ${JSON.stringify(obj)}` : ''}`);\n  }\n\n  componentDidMount(): void {\n    this._isMounted = true;\n  }\n\n  componentDidUpdate(prevProps: BasePopoverProps): void {\n    // Make sure a value we care about has actually changed\n    const importantProps = ['isVisible', 'fromRect', 'displayArea', 'verticalOffset', 'offset', 'placement'];\n    const changedProps = getChangedProps(this.props, prevProps, importantProps);\n    if (!changedProps.length) return;\n    this.debug('[BasePopover] componentDidUpdate - changedProps', changedProps);\n\n    if (this.props.isVisible !== prevProps.isVisible) {\n      this.debug(`componentDidUpdate - isVisible changed, now ${this.props.isVisible}`);\n      if (!this.props.isVisible) {\n        if (this.state.showing) this.animateOut();\n        else this.animateOutAfterShow = true;\n        this.debug('componentDidUpdate - Hiding popover');\n      }\n    } else if (this.props.isVisible && prevProps.isVisible) {\n      this.debug('componentDidUpdate - isVisible not changed, handling other changes');\n      this.handleChange();\n    }\n  }\n\n  componentWillUnmount(): void {\n    this._isMounted = false;\n\n    if (this.state.showing) {\n      this.debug('componentWillUnmount');\n      this.animateOut();\n    }\n  }\n\n  measureContent(requestedContentSize: Size): void {\n    if (!requestedContentSize.width) {\n      console.warn(`Popover Warning - Can't Show - The Popover content has a width of 0, so there is nothing to present.`);\n      return;\n    }\n    if (!requestedContentSize.height) {\n      console.warn(`Popover Warning - Can't Show - The Popover content has a height of 0, so there is nothing to present.`);\n      return;\n    }\n    if (this.props.skipMeasureContent()) {\n      this.debug(`measureContent - Skipping, waiting for resize to finish`);\n      return;\n    }\n\n    if (\n      !this.state.requestedContentSize ||\n      !requestedContentSize.equals(this.state.requestedContentSize)\n    ) {\n      this.debug(`measureContent - new requestedContentSize: ${JSON.stringify(requestedContentSize)} (used to be ${JSON.stringify(this.state.requestedContentSize)})`);\n      this.setState({ requestedContentSize }, () => this.handleChange());\n    } else {\n      this.debug(`measureContent - Skipping, content size did not change`);\n    }\n  }\n\n  /*\n   * Many factors may cause the geometry to change.\n   * This function collects all of them, waiting for 200ms after the last change,\n   * then takes action, either bringing up the popover or moving it to its new location\n   */\n  handleChange(): void {\n    if (this.handleChangeTimeout) clearTimeout(this.handleChangeTimeout);\n\n    /*\n     * This function will be called again once we have a requested content size,\n     * so safe to ignore for now\n     */\n    if (!this.state.requestedContentSize) {\n      this.debug('handleChange - no requestedContentSize, exiting...');\n      return;\n    }\n\n    this.debug('handleChange - waiting 100ms to accumulate all changes');\n    this.handleChangeTimeout = setTimeout(() => {\n      const {\n        activeGeom,\n        animatedValues,\n        requestedContentSize\n      }: Partial<BasePopoverState> = this.state;\n      const {\n        arrowSize,\n        popoverStyle,\n        fromRect,\n        displayArea,\n        placement,\n        onOpenStart,\n        arrowShift,\n        onPositionChange,\n        offset,\n        popoverShift\n      } = this.props;\n\n      if (requestedContentSize) {\n        this.debug('handleChange - requestedContentSize', requestedContentSize);\n\n        this.debug('handleChange - displayArea', displayArea);\n        this.debug('handleChange - fromRect', fromRect);\n        if (placement) this.debug('handleChange - placement', placement.toString());\n\n        const geom = computeGeometry({\n          requestedContentSize,\n          placement,\n          fromRect,\n          displayArea,\n          arrowSize: arrowSize || DEFAULT_ARROW_SIZE,\n          popoverStyle,\n          arrowShift,\n          debug: this.debug.bind(this),\n          previousPlacement: this.getGeom().placement,\n          offset,\n          popoverShift\n        });\n\n        this.setState({ nextGeom: geom, requestedContentSize }, () => {\n          if (geom.viewLargerThanDisplayArea.width || geom.viewLargerThanDisplayArea.height) {\n            /*\n             * If the view initially overflowed the display area,\n             * wait one more render cycle to test-render it within\n             * the display area to get final calculations for popoverOrigin before show\n             */\n            this.debug('handleChange - delaying showing popover because viewLargerThanDisplayArea');\n          } else if (!activeGeom) {\n            this.debug('handleChange - animating in');\n            if (onOpenStart) setTimeout(onOpenStart);\n            this.animateIn();\n          } else if (activeGeom && !Geometry.equals(activeGeom, geom)) {\n            const moveTo = new Point(geom.popoverOrigin.x, geom.popoverOrigin.y);\n            this.debug('handleChange - Triggering popover move to', moveTo);\n            this.animateTo({\n              values: animatedValues,\n              fade: 1,\n              scale: 1,\n              translatePoint: moveTo,\n              easing: Easing.inOut(Easing.quad),\n              geom,\n              callback: onPositionChange\n            });\n          } else {\n            this.debug('handleChange - no change');\n          }\n        });\n      }\n    }, 100);\n  }\n\n  static getPolarity(): -1 | 1 {\n    return I18nManager.isRTL ? -1 : 1;\n  }\n\n  getGeom(): Geometry {\n    const { activeGeom, nextGeom }: Partial<BasePopoverState> = this.state;\n    if (activeGeom) return activeGeom;\n    if (nextGeom) return nextGeom;\n    return new Geometry({\n      popoverOrigin: new Point(0, 0),\n      anchorPoint: new Point(0, 0),\n      placement: Placement.AUTO,\n      forcedContentSize: new Size(0, 0),\n      viewLargerThanDisplayArea: {\n        width: false,\n        height: false\n      }\n    });\n  }\n\n  getTranslateOrigin(): Point {\n    const { requestedContentSize } = this.state;\n    const arrowSize = this.props.arrowSize || DEFAULT_ARROW_SIZE;\n    const {\n      forcedContentSize,\n      viewLargerThanDisplayArea,\n      anchorPoint,\n      placement\n    } = this.getGeom();\n\n    let viewWidth = 0;\n    if (viewLargerThanDisplayArea.width && forcedContentSize?.width)\n      viewWidth = forcedContentSize.width;\n    else if (requestedContentSize?.width)\n      viewWidth = requestedContentSize.width;\n    if ([Placement.LEFT, Placement.RIGHT].includes(placement))\n      viewWidth += arrowSize.height;\n\n    let viewHeight = 0;\n    if (viewLargerThanDisplayArea.height && forcedContentSize?.height)\n      viewHeight = forcedContentSize.height;\n    else if (requestedContentSize?.height)\n      viewHeight = requestedContentSize.height;\n    if ([Placement.TOP, Placement.BOTTOM].includes(placement))\n      viewHeight += arrowSize.height;\n\n    this.debug('getTranslateOrigin - popoverSize', { width: viewWidth, height: viewHeight });\n    this.debug('getTranslateOrigin - anchorPoint', anchorPoint);\n\n    return new Point(\n      anchorPoint.x - (viewWidth / 2),\n      anchorPoint.y - (viewHeight / 2)\n    );\n  }\n\n  animateOut(): void {\n    if (this.props.onCloseStart) setTimeout(this.props.onCloseStart);\n\n    if (this._isMounted) this.setState({ showing: false });\n\n    this.debug('animateOut - isMounted', this._isMounted);\n    this.animateTo({\n      values: this.state.animatedValues,\n      fade: 0,\n      scale: 0,\n      translatePoint: this.getTranslateOrigin(),\n      callback: () => setTimeout(this.props.onCloseComplete),\n      easing: Easing.inOut(Easing.quad),\n      geom: this.getGeom()\n    });\n  }\n\n  animateIn(): void {\n    const { nextGeom } = this.state;\n    if (nextGeom !== undefined && nextGeom instanceof Geometry) {\n      const values = this.state.animatedValues;\n\n      // Should grow from anchor point\n      const translateStart = this.getTranslateOrigin();\n      // eslint-disable-next-line\n      translateStart.y += FIX_SHIFT // Temp fix for useNativeDriver issue\n      values.translate.setValue(translateStart);\n      const translatePoint = new Point(nextGeom.popoverOrigin.x, nextGeom.popoverOrigin.y);\n\n      this.debug('animateIn - translateStart', translateStart);\n      this.debug('animateIn - translatePoint', translatePoint);\n      this.animateTo({\n        values,\n        fade: 1,\n        scale: 1,\n        translatePoint,\n        easing: Easing.out(Easing.back(1)),\n        geom: nextGeom,\n        callback: () => {\n          if (this._isMounted) {\n            this.setState({ showing: true });\n            if (this.props.debug || DEBUG) {\n              setTimeout(() =>\n                this.popoverRef.current &&\n                getRectForRef(this.popoverRef).then((rect: Rect) => this.debug('animateIn - onOpenComplete - Calculated Popover Rect', rect))\n              );\n              setTimeout(() =>\n                this.arrowRef.current &&\n                getRectForRef(this.arrowRef).then((rect: Rect) => this.debug('animateIn - onOpenComplete - Calculated Arrow Rect', rect))\n              );\n            }\n          }\n          if (this.props.onOpenComplete) setTimeout(this.props.onOpenComplete);\n          if (this.animateOutAfterShow || !this._isMounted) {\n            this.animateOut();\n            this.animateOutAfterShow = false;\n          }\n        }\n      });\n    }\n  }\n\n  animateTo(\n    args:\n    {\n      fade: number;\n      scale: number;\n      translatePoint: Point;\n      callback?: () => void;\n      easing: EasingFunction;\n      values: {\n        scale: Animated.Value,\n        translate: Animated.ValueXY,\n        fade: Animated.Value,\n        translateArrow: Animated.ValueXY\n      },\n      geom: Geometry\n    }\n  ): void {\n    const { fade, translatePoint, scale, callback, easing, values } = args;\n    const commonConfig = {\n      duration: 300,\n      easing,\n      useNativeDriver: !isWeb,\n      ...this.props.animationConfig\n    };\n\n    if (this.animating) {\n      setTimeout(() => this.animateTo(args), 100);\n      return;\n    }\n\n    // eslint-disable-next-line\n    translatePoint.y = translatePoint.y + FIX_SHIFT // Temp fix for useNativeDriver issue\n\n    if (!fade && fade !== 0) {\n      console.log('Popover: Fade value is null');\n      return;\n    }\n    if (!translatePoint) {\n      console.log('Popover: Translate Point value is null');\n      return;\n    }\n    if (!scale && scale !== 0) {\n      console.log('Popover: Scale value is null');\n      return;\n    }\n    this.animating = true;\n    Animated.parallel([\n      Animated.timing(values.fade, {\n        ...commonConfig,\n        toValue: fade\n      }),\n      Animated.timing(values.translate, {\n        ...commonConfig,\n        toValue: translatePoint\n      }),\n      Animated.timing(values.scale, {\n        ...commonConfig,\n        toValue: scale\n      })\n    ]).start(() => {\n      this.animating = false;\n      if (this._isMounted) this.setState({ activeGeom: this.state.nextGeom });\n      if (callback) callback();\n    });\n  }\n\n  render(): ReactNode {\n    const {\n      animatedValues,\n      nextGeom,\n      requestedContentSize\n    }: Partial<BasePopoverState> = this.state;\n    const flattenedPopoverStyle = StyleSheet.flatten(this.props.popoverStyle);\n    const arrowSize = this.props.arrowSize || DEFAULT_ARROW_SIZE;\n    const geom = this.getGeom();\n\n    const transformStyle = {\n      position: 'absolute' as const,\n      ...requestedContentSize,\n      transform: [\n        { translateX: animatedValues.translate.x },\n        { translateY: animatedValues.translate.y },\n        { scale: animatedValues.scale }\n      ]\n    };\n\n    const {\n      shadowOffset,\n      shadowColor,\n      shadowOpacity,\n      shadowRadius,\n      elevation,\n      ...otherPopoverStyles\n    } = flattenedPopoverStyle;\n\n    const shadowStyle = {\n      shadowOffset,\n      shadowColor,\n      shadowOpacity,\n      shadowRadius\n    };\n\n    const contentWrapperStyle: ViewStyle = {\n      ...styles.popoverContent,\n      ...otherPopoverStyles,\n      elevation\n    };\n\n    /*\n     * We want to always use next here, because the we need this to re-render\n     * before we can animate to the correct spot for the active.\n     */\n    if (nextGeom) {\n      contentWrapperStyle.maxWidth = nextGeom.forcedContentSize.width;\n      contentWrapperStyle.maxHeight = nextGeom.forcedContentSize.height;\n    }\n\n    const arrowPositionStyle: ArrowProps['positionStyle'] = {};\n\n    if (geom.placement === Placement.RIGHT || geom.placement === Placement.LEFT) {\n      arrowPositionStyle.top = geom.anchorPoint.y - geom.popoverOrigin.y - arrowSize.height;\n      if (transformStyle.width) transformStyle.width += arrowSize.height;\n      if (geom.placement === Placement.RIGHT) contentWrapperStyle.left = arrowSize.height;\n    } else if (geom.placement === Placement.TOP || geom.placement === Placement.BOTTOM) {\n      arrowPositionStyle.left = geom.anchorPoint.x - geom.popoverOrigin.x - (arrowSize.width / 2);\n      if (transformStyle.height) transformStyle.height += arrowSize.height;\n      if (geom.placement === Placement.BOTTOM) contentWrapperStyle.top = arrowSize.height;\n    }\n    switch (geom.placement) {\n      case Placement.TOP: arrowPositionStyle.bottom = 0; break;\n      case Placement.BOTTOM: arrowPositionStyle.top = 0; break;\n      case Placement.LEFT: arrowPositionStyle.right = 0; break;\n      case Placement.RIGHT: arrowPositionStyle.left = 0; break;\n      default:\n    }\n\n    // Temp fix for useNativeDriver issue\n    const backgroundShift = animatedValues.fade.interpolate({\n      inputRange: [0, 0.0001, 1],\n      outputRange: [0, FIX_SHIFT, FIX_SHIFT]\n    });\n\n    const backgroundStyle = {\n      ...styles.background,\n      transform: [{ translateY: backgroundShift }],\n      ...StyleSheet.flatten(this.props.backgroundStyle)\n    };\n\n    const containerStyle = {\n      ...styles.container,\n      opacity: animatedValues.fade\n    };\n\n    const backgroundColor = flattenedPopoverStyle.backgroundColor ||\n      styles.popoverContent.backgroundColor;\n\n    return (\n      <View pointerEvents=\"box-none\" style={[styles.container, { top: -1 * FIX_SHIFT }]}>\n        <View\n          pointerEvents=\"box-none\"\n          style={[styles.container, { top: FIX_SHIFT, flex: 1 }]}\n          onLayout={evt => this.props.onDisplayAreaChanged(new Rect(\n            evt.nativeEvent.layout.x,\n            evt.nativeEvent.layout.y - FIX_SHIFT,\n            evt.nativeEvent.layout.width,\n            evt.nativeEvent.layout.height\n          ))}\n        />\n        <Animated.View pointerEvents=\"box-none\" style={containerStyle}>\n          {this.props.showBackground !== false && (\n            <TouchableWithoutFeedback onPress={this.props.onRequestClose}>\n              <Animated.View style={backgroundStyle} />\n            </TouchableWithoutFeedback>\n          )}\n\n          <View pointerEvents=\"box-none\" style={{ top: 0, left: 0, ...shadowStyle }}>\n            <Animated.View style={transformStyle}>\n              <View\n                ref={this.popoverRef}\n                style={contentWrapperStyle}\n                onLayout={(evt: LayoutChangeEvent) => {\n                  const layout = { ...evt.nativeEvent.layout };\n                  setTimeout(\n                    () => this._isMounted &&\n                      this.measureContent(new Size(layout.width, layout.height)),\n                    10\n                  );\n                }}>\n                {this.props.children}\n              </View>\n              {geom.placement !== Placement.FLOATING &&\n                <Arrow\n                  ref={this.arrowRef}\n                  placement={geom.placement}\n                  color={backgroundColor}\n                  arrowSize={arrowSize}\n                  positionStyle={arrowPositionStyle}\n                  elevation={elevation}\n                />\n              }\n            </Animated.View>\n          </View>\n        </Animated.View>\n      </View>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAmB,OAAO;AAAC,OAAAC,QAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,WAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,wBAAA;AAAA,OAAAC,IAAA;AAEpD,OAAOC,KAAqB;AAC5B,SAASC,KAAK,EAAEC,kBAAkB,EAAEC,SAAS,EAAEC,KAAK,EAAEC,MAAM;AAC5D,SAASC,eAAe,EAAEC,QAAQ;AAClC,SAASC,SAAS,EAAEC,KAAK,EAAgBC,IAAI,EAAEC,IAAI;AACnD,SAASC,eAAe,EAAEC,aAAa;AAwBvC,IAAAC,WAAA,aAAAC,MAAA;EAAyCC,SAAA,CAAAF,WAAA,EAAAC,MAAA;EAAzC,SAAAD,YAAA;IAAA,IAAAG,KAAA,GAAAF,MAAA,aAAAA,MAAA,CAAAG,KAAA,OAAAC,SAAA;IACEF,KAAA,CAAAG,KAAK,GAAqB;MACxBC,oBAAoB,EAAE,IAAI;MAC1BC,UAAU,EAAEC,SAAS;MACrBC,QAAQ,EAAED,SAAS;MACnBE,OAAO,EAAE,KAAK;MACdC,cAAc,EAAE;QACdC,KAAK,EAAE,IAAIjC,QAAQ,CAACkC,KAAK,CAAC,CAAC,CAAC;QAC5BC,SAAS,EAAE,IAAInC,QAAQ,CAACoC,OAAO,EAAE;QACjCC,IAAI,EAAE,IAAIrC,QAAQ,CAACkC,KAAK,CAAC,CAAC,CAAC;QAC3BI,cAAc,EAAE,IAAItC,QAAQ,CAACoC,OAAO;;KAEvC;IAEOb,KAAA,CAAAgB,UAAU,GAAG,KAAK;IAClBhB,KAAA,CAAAiB,SAAS,GAAG,KAAK;IACjBjB,KAAA,CAAAkB,mBAAmB,GAAG,KAAK;IAE3BlB,KAAA,CAAAmB,UAAU,GAAG5C,KAAK,CAAC6C,SAAS,EAAQ;IACpCpB,KAAA,CAAAqB,QAAQ,GAAG9C,KAAK,CAAC6C,SAAS,EAAQ;;EAge5C;EA5dEvB,WAAA,CAAAyB,SAAA,CAAAC,KAAK,GAAL,UAAMC,IAAY,EAAEC,GAAa;IAC/B,IAAIzC,KAAK,IAAI,IAAI,CAAC0C,KAAK,CAACH,KAAK,EAC3BI,OAAO,CAACC,GAAG,CAAC,MAAK,IAAIC,IAAI,EAAE,CAAEC,WAAW,EAAE,UAAKN,IAAI,IAAGC,GAAG,GAAG,OAAKM,IAAI,CAACC,SAAS,CAACP,GAAG,CAAG,GAAG,EAAE,CAAE,CAAC;EAClG,CAAC;EAED5B,WAAA,CAAAyB,SAAA,CAAAW,iBAAiB,GAAjB;IACE,IAAI,CAACjB,UAAU,GAAG,IAAI;EACxB,CAAC;EAEDnB,WAAA,CAAAyB,SAAA,CAAAY,kBAAkB,GAAlB,UAAmBC,SAA2B;IAE5C,IAAMC,cAAc,GAAG,CAAC,WAAW,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,QAAQ,EAAE,WAAW,CAAC;IACxG,IAAMC,YAAY,GAAG1C,eAAe,CAAC,IAAI,CAAC+B,KAAK,EAAES,SAAS,EAAEC,cAAc,CAAC;IAC3E,IAAI,CAACC,YAAY,CAACC,MAAM,EAAE;IAC1B,IAAI,CAACf,KAAK,CAAC,iDAAiD,EAAEc,YAAY,CAAC;IAE3E,IAAI,IAAI,CAACX,KAAK,CAACa,SAAS,KAAKJ,SAAS,CAACI,SAAS,EAAE;MAChD,IAAI,CAAChB,KAAK,CAAC,iDAA+C,IAAI,CAACG,KAAK,CAACa,SAAW,CAAC;MACjF,IAAI,CAAC,IAAI,CAACb,KAAK,CAACa,SAAS,EAAE;QACzB,IAAI,IAAI,CAACpC,KAAK,CAACK,OAAO,EAAE,IAAI,CAACgC,UAAU,EAAE,CAAC,KACrC,IAAI,CAACtB,mBAAmB,GAAG,IAAI;QACpC,IAAI,CAACK,KAAK,CAAC,qCAAqC,CAAC;;KAEpD,MAAM,IAAI,IAAI,CAACG,KAAK,CAACa,SAAS,IAAIJ,SAAS,CAACI,SAAS,EAAE;MACtD,IAAI,CAAChB,KAAK,CAAC,oEAAoE,CAAC;MAChF,IAAI,CAACkB,YAAY,EAAE;;EAEvB,CAAC;EAED5C,WAAA,CAAAyB,SAAA,CAAAoB,oBAAoB,GAApB;IACE,IAAI,CAAC1B,UAAU,GAAG,KAAK;IAEvB,IAAI,IAAI,CAACb,KAAK,CAACK,OAAO,EAAE;MACtB,IAAI,CAACe,KAAK,CAAC,sBAAsB,CAAC;MAClC,IAAI,CAACiB,UAAU,EAAE;;EAErB,CAAC;EAED3C,WAAA,CAAAyB,SAAA,CAAAqB,cAAc,GAAd,UAAevC,oBAA0B;IAAzC,IAAAJ,KAAA;IACE,IAAI,CAACI,oBAAoB,CAACwC,KAAK,EAAE;MAC/BjB,OAAO,CAACkB,IAAI,CAAC,sGAAsG,CAAC;MACpH;;IAEF,IAAI,CAACzC,oBAAoB,CAAC0C,MAAM,EAAE;MAChCnB,OAAO,CAACkB,IAAI,CAAC,uGAAuG,CAAC;MACrH;;IAEF,IAAI,IAAI,CAACnB,KAAK,CAACqB,kBAAkB,EAAE,EAAE;MACnC,IAAI,CAACxB,KAAK,CAAC,yDAAyD,CAAC;MACrE;;IAGF,IACE,CAAC,IAAI,CAACpB,KAAK,CAACC,oBAAoB,IAChC,CAACA,oBAAoB,CAAC4C,MAAM,CAAC,IAAI,CAAC7C,KAAK,CAACC,oBAAoB,CAAC,EAC7D;MACA,IAAI,CAACmB,KAAK,CAAC,gDAA8CQ,IAAI,CAACC,SAAS,CAAC5B,oBAAoB,CAAC,qBAAgB2B,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC7B,KAAK,CAACC,oBAAoB,CAAC,MAAG,CAAC;MAChK,IAAI,CAAC6C,QAAQ,CAAC;QAAE7C,oBAAoB,EAAAA;MAAA,CAAE,EAAE;QAAM,OAAAJ,KAAI,CAACyC,YAAY,EAAE;MAAnB,CAAmB,CAAC;KACnE,MAAM;MACL,IAAI,CAAClB,KAAK,CAAC,wDAAwD,CAAC;;EAExE,CAAC;EAOD1B,WAAA,CAAAyB,SAAA,CAAAmB,YAAY,GAAZ;IAAA,IAAAzC,KAAA;IACE,IAAI,IAAI,CAACkD,mBAAmB,EAAEC,YAAY,CAAC,IAAI,CAACD,mBAAmB,CAAC;IAMpE,IAAI,CAAC,IAAI,CAAC/C,KAAK,CAACC,oBAAoB,EAAE;MACpC,IAAI,CAACmB,KAAK,CAAC,oDAAoD,CAAC;MAChE;;IAGF,IAAI,CAACA,KAAK,CAAC,wDAAwD,CAAC;IACpE,IAAI,CAAC2B,mBAAmB,GAAGE,UAAU,CAAC;MAC9B,IAAAC,EAAA,GAIyBrD,KAAI,CAACG,KAAK;QAHvCE,UAAU,GAAAgD,EAAA,CAAAhD,UAAA;QACVI,cAAc,GAAA4C,EAAA,CAAA5C,cAAA;QACdL,oBAAoB,GAAAiD,EAAA,CAAAjD,oBACmB;MACnC,IAAAkD,EAAA,GAWFtD,KAAI,CAAC0B,KAAK;QAVZ6B,SAAS,GAAAD,EAAA,CAAAC,SAAA;QACTC,YAAY,GAAAF,EAAA,CAAAE,YAAA;QACZC,QAAQ,GAAAH,EAAA,CAAAG,QAAA;QACRC,WAAW,GAAAJ,EAAA,CAAAI,WAAA;QACXC,SAAS,GAAAL,EAAA,CAAAK,SAAA;QACTC,WAAW,GAAAN,EAAA,CAAAM,WAAA;QACXC,UAAU,GAAAP,EAAA,CAAAO,UAAA;QACVC,gBAAgB,GAAAR,EAAA,CAAAQ,gBAAA;QAChBC,MAAM,GAAAT,EAAA,CAAAS,MAAA;QACNC,YAAY,GAAAV,EAAA,CAAAU,YACA;MAEd,IAAI5D,oBAAoB,EAAE;QACxBJ,KAAI,CAACuB,KAAK,CAAC,qCAAqC,EAAEnB,oBAAoB,CAAC;QAEvEJ,KAAI,CAACuB,KAAK,CAAC,4BAA4B,EAAEmC,WAAW,CAAC;QACrD1D,KAAI,CAACuB,KAAK,CAAC,yBAAyB,EAAEkC,QAAQ,CAAC;QAC/C,IAAIE,SAAS,EAAE3D,KAAI,CAACuB,KAAK,CAAC,0BAA0B,EAAEoC,SAAS,CAACM,QAAQ,EAAE,CAAC;QAE3E,IAAMC,MAAI,GAAG7E,eAAe,CAAC;UAC3Be,oBAAoB,EAAAA,oBAAA;UACpBuD,SAAS,EAAAA,SAAA;UACTF,QAAQ,EAAAA,QAAA;UACRC,WAAW,EAAAA,WAAA;UACXH,SAAS,EAAEA,SAAS,IAAItE,kBAAkB;UAC1CuE,YAAY,EAAAA,YAAA;UACZK,UAAU,EAAAA,UAAA;UACVtC,KAAK,EAAEvB,KAAI,CAACuB,KAAK,CAAC4C,IAAI,CAACnE,KAAI,CAAC;UAC5BoE,iBAAiB,EAAEpE,KAAI,CAACqE,OAAO,EAAE,CAACV,SAAS;UAC3CI,MAAM,EAAAA,MAAA;UACNC,YAAY,EAAAA;SACb,CAAC;QAEFhE,KAAI,CAACiD,QAAQ,CAAC;UAAE1C,QAAQ,EAAE2D,MAAI;UAAE9D,oBAAoB,EAAAA;QAAA,CAAE,EAAE;UACtD,IAAI8D,MAAI,CAACI,yBAAyB,CAAC1B,KAAK,IAAIsB,MAAI,CAACI,yBAAyB,CAACxB,MAAM,EAAE;YAMjF9C,KAAI,CAACuB,KAAK,CAAC,2EAA2E,CAAC;WACxF,MAAM,IAAI,CAAClB,UAAU,EAAE;YACtBL,KAAI,CAACuB,KAAK,CAAC,6BAA6B,CAAC;YACzC,IAAIqC,WAAW,EAAER,UAAU,CAACQ,WAAW,CAAC;YACxC5D,KAAI,CAACuE,SAAS,EAAE;WACjB,MAAM,IAAIlE,UAAU,IAAI,CAACf,QAAQ,CAAC0D,MAAM,CAAC3C,UAAU,EAAE6D,MAAI,CAAC,EAAE;YAC3D,IAAMM,MAAM,GAAG,IAAIhF,KAAK,CAAC0E,MAAI,CAACO,aAAa,CAACC,CAAC,EAAER,MAAI,CAACO,aAAa,CAACE,CAAC,CAAC;YACpE3E,KAAI,CAACuB,KAAK,CAAC,2CAA2C,EAAEiD,MAAM,CAAC;YAC/DxE,KAAI,CAAC4E,SAAS,CAAC;cACbC,MAAM,EAAEpE,cAAc;cACtBK,IAAI,EAAE,CAAC;cACPJ,KAAK,EAAE,CAAC;cACRoE,cAAc,EAAEN,MAAM;cACtBO,MAAM,EAAErG,MAAM,CAACsG,KAAK,CAACtG,MAAM,CAACuG,IAAI,CAAC;cACjCC,IAAI,EAAAhB,MAAA;cACJiB,QAAQ,EAAErB;aACX,CAAC;WACH,MAAM;YACL9D,KAAI,CAACuB,KAAK,CAAC,0BAA0B,CAAC;;QAE1C,CAAC,CAAC;;IAEN,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAEM1B,WAAA,CAAAuF,WAAW,GAAlB;IACE,OAAOzG,WAAW,CAAC0G,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC;EACnC,CAAC;EAEDxF,WAAA,CAAAyB,SAAA,CAAA+C,OAAO,GAAP;IACQ,IAAAhB,EAAA,GAAsD,IAAI,CAAClD,KAAK;MAA9DE,UAAU,GAAAgD,EAAA,CAAAhD,UAAA;MAAEE,QAAQ,GAAA8C,EAAA,CAAA9C,QAA0C;IACtE,IAAIF,UAAU,EAAE,OAAOA,UAAU;IACjC,IAAIE,QAAQ,EAAE,OAAOA,QAAQ;IAC7B,OAAO,IAAIjB,QAAQ,CAAC;MAClBmF,aAAa,EAAE,IAAIjF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;MAC9B8F,WAAW,EAAE,IAAI9F,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;MAC5BmE,SAAS,EAAEpE,SAAS,CAACgG,IAAI;MACzBC,iBAAiB,EAAE,IAAI9F,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;MACjC4E,yBAAyB,EAAE;QACzB1B,KAAK,EAAE,KAAK;QACZE,MAAM,EAAE;;KAEX,CAAC;EACJ,CAAC;EAEDjD,WAAA,CAAAyB,SAAA,CAAAmE,kBAAkB,GAAlB;IACU,IAAArF,oBAAoB,GAAK,IAAI,CAACD,KAAK,CAAAC,oBAAf;IAC5B,IAAMmD,SAAS,GAAG,IAAI,CAAC7B,KAAK,CAAC6B,SAAS,IAAItE,kBAAkB;IACtD,IAAAoE,EAAA,GAKF,IAAI,CAACgB,OAAO,EAAE;MAJhBmB,iBAAiB,GAAAnC,EAAA,CAAAmC,iBAAA;MACjBlB,yBAAyB,GAAAjB,EAAA,CAAAiB,yBAAA;MACzBgB,WAAW,GAAAjC,EAAA,CAAAiC,WAAA;MACX3B,SAAS,GAAAN,EAAA,CAAAM,SACO;IAElB,IAAI+B,SAAS,GAAG,CAAC;IACjB,IAAIpB,yBAAyB,CAAC1B,KAAK,KAAI4C,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAE5C,KAAK,GAC7D8C,SAAS,GAAGF,iBAAiB,CAAC5C,KAAK,CAAC,KACjC,IAAIxC,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,CAAEwC,KAAK,EAClC8C,SAAS,GAAGtF,oBAAoB,CAACwC,KAAK;IACxC,IAAI,CAACrD,SAAS,CAACoG,IAAI,EAAEpG,SAAS,CAACqG,KAAK,CAAC,CAACC,QAAQ,CAAClC,SAAS,CAAC,EACvD+B,SAAS,IAAInC,SAAS,CAACT,MAAM;IAE/B,IAAIgD,UAAU,GAAG,CAAC;IAClB,IAAIxB,yBAAyB,CAACxB,MAAM,KAAI0C,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAE1C,MAAM,GAC/DgD,UAAU,GAAGN,iBAAiB,CAAC1C,MAAM,CAAC,KACnC,IAAI1C,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,CAAE0C,MAAM,EACnCgD,UAAU,GAAG1F,oBAAoB,CAAC0C,MAAM;IAC1C,IAAI,CAACvD,SAAS,CAACwG,GAAG,EAAExG,SAAS,CAACyG,MAAM,CAAC,CAACH,QAAQ,CAAClC,SAAS,CAAC,EACvDmC,UAAU,IAAIvC,SAAS,CAACT,MAAM;IAEhC,IAAI,CAACvB,KAAK,CAAC,kCAAkC,EAAE;MAAEqB,KAAK,EAAE8C,SAAS;MAAE5C,MAAM,EAAEgD;IAAU,CAAE,CAAC;IACxF,IAAI,CAACvE,KAAK,CAAC,kCAAkC,EAAE+D,WAAW,CAAC;IAE3D,OAAO,IAAI9F,KAAK,CACd8F,WAAW,CAACZ,CAAC,GAAIgB,SAAS,GAAG,CAAE,EAC/BJ,WAAW,CAACX,CAAC,GAAImB,UAAU,GAAG,CAAE,CACjC;EACH,CAAC;EAEDjG,WAAA,CAAAyB,SAAA,CAAAkB,UAAU,GAAV;IAAA,IAAAxC,KAAA;IACE,IAAI,IAAI,CAAC0B,KAAK,CAACuE,YAAY,EAAE7C,UAAU,CAAC,IAAI,CAAC1B,KAAK,CAACuE,YAAY,CAAC;IAEhE,IAAI,IAAI,CAACjF,UAAU,EAAE,IAAI,CAACiC,QAAQ,CAAC;MAAEzC,OAAO,EAAE;IAAK,CAAE,CAAC;IAEtD,IAAI,CAACe,KAAK,CAAC,wBAAwB,EAAE,IAAI,CAACP,UAAU,CAAC;IACrD,IAAI,CAAC4D,SAAS,CAAC;MACbC,MAAM,EAAE,IAAI,CAAC1E,KAAK,CAACM,cAAc;MACjCK,IAAI,EAAE,CAAC;MACPJ,KAAK,EAAE,CAAC;MACRoE,cAAc,EAAE,IAAI,CAACW,kBAAkB,EAAE;MACzCN,QAAQ,EAAE,SAAAA,SAAA;QAAM,OAAA/B,UAAU,CAACpD,KAAI,CAAC0B,KAAK,CAACwE,eAAe,CAAC;MAAtC,CAAsC;MACtDnB,MAAM,EAAErG,MAAM,CAACsG,KAAK,CAACtG,MAAM,CAACuG,IAAI,CAAC;MACjCC,IAAI,EAAE,IAAI,CAACb,OAAO;KACnB,CAAC;EACJ,CAAC;EAEDxE,WAAA,CAAAyB,SAAA,CAAAiD,SAAS,GAAT;IAAA,IAAAvE,KAAA;IACU,IAAAO,QAAQ,GAAK,IAAI,CAACJ,KAAK,CAAAI,QAAf;IAChB,IAAIA,QAAQ,KAAKD,SAAS,IAAIC,QAAQ,YAAYjB,QAAQ,EAAE;MAC1D,IAAMuF,MAAM,GAAG,IAAI,CAAC1E,KAAK,CAACM,cAAc;MAGxC,IAAM0F,cAAc,GAAG,IAAI,CAACV,kBAAkB,EAAE;MAEhDU,cAAc,CAACxB,CAAC,IAAIzF,SAAS;MAC7B2F,MAAM,CAACjE,SAAS,CAACwF,QAAQ,CAACD,cAAc,CAAC;MACzC,IAAMrB,cAAc,GAAG,IAAItF,KAAK,CAACe,QAAQ,CAACkE,aAAa,CAACC,CAAC,EAAEnE,QAAQ,CAACkE,aAAa,CAACE,CAAC,CAAC;MAEpF,IAAI,CAACpD,KAAK,CAAC,4BAA4B,EAAE4E,cAAc,CAAC;MACxD,IAAI,CAAC5E,KAAK,CAAC,4BAA4B,EAAEuD,cAAc,CAAC;MACxD,IAAI,CAACF,SAAS,CAAC;QACbC,MAAM,EAAAA,MAAA;QACN/D,IAAI,EAAE,CAAC;QACPJ,KAAK,EAAE,CAAC;QACRoE,cAAc,EAAAA,cAAA;QACdC,MAAM,EAAErG,MAAM,CAAC2H,GAAG,CAAC3H,MAAM,CAAC4H,IAAI,CAAC,CAAC,CAAC,CAAC;QAClCpB,IAAI,EAAE3E,QAAQ;QACd4E,QAAQ,EAAE,SAAAA,SAAA;UACR,IAAInF,KAAI,CAACgB,UAAU,EAAE;YACnBhB,KAAI,CAACiD,QAAQ,CAAC;cAAEzC,OAAO,EAAE;YAAI,CAAE,CAAC;YAChC,IAAIR,KAAI,CAAC0B,KAAK,CAACH,KAAK,IAAIvC,KAAK,EAAE;cAC7BoE,UAAU,CAAC;gBACT,OAAApD,KAAI,CAACmB,UAAU,CAACoF,OAAO,IACvB3G,aAAa,CAACI,KAAI,CAACmB,UAAU,CAAC,CAACqF,IAAI,CAAC,UAACC,IAAU;kBAAK,OAAAzG,KAAI,CAACuB,KAAK,CAAC,sDAAsD,EAAEkF,IAAI,CAAC;gBAAxE,CAAwE,CAAC;cAD7H,CAC6H,CAC9H;cACDrD,UAAU,CAAC;gBACT,OAAApD,KAAI,CAACqB,QAAQ,CAACkF,OAAO,IACrB3G,aAAa,CAACI,KAAI,CAACqB,QAAQ,CAAC,CAACmF,IAAI,CAAC,UAACC,IAAU;kBAAK,OAAAzG,KAAI,CAACuB,KAAK,CAAC,oDAAoD,EAAEkF,IAAI,CAAC;gBAAtE,CAAsE,CAAC;cADzH,CACyH,CAC1H;;;UAGL,IAAIzG,KAAI,CAAC0B,KAAK,CAACgF,cAAc,EAAEtD,UAAU,CAACpD,KAAI,CAAC0B,KAAK,CAACgF,cAAc,CAAC;UACpE,IAAI1G,KAAI,CAACkB,mBAAmB,IAAI,CAAClB,KAAI,CAACgB,UAAU,EAAE;YAChDhB,KAAI,CAACwC,UAAU,EAAE;YACjBxC,KAAI,CAACkB,mBAAmB,GAAG,KAAK;;QAEpC;OACD,CAAC;;EAEN,CAAC;EAEDrB,WAAA,CAAAyB,SAAA,CAAAsD,SAAS,GAAT,UACE+B,IAcC;IAfH,IAAA3G,KAAA;IAiBU,IAAAc,IAAI,GAAsD6F,IAAI,CAAA7F,IAA1D;MAAEgE,cAAc,GAAsC6B,IAAI,CAAA7B,cAA1C;MAAEpE,KAAK,GAA+BiG,IAAI,CAAAjG,KAAnC;MAAEyE,QAAQ,GAAqBwB,IAAI,CAAAxB,QAAzB;MAAEJ,MAAM,GAAa4B,IAAI,CAAA5B,MAAjB;MAAEF,MAAM,GAAK8B,IAAI,CAAA9B,MAAT;IAC7D,IAAM+B,YAAY,GAAAC,QAAA;MAChBC,QAAQ,EAAE,GAAG;MACb/B,MAAM,EAAAA,MAAA;MACNgC,eAAe,EAAE,CAAC5H;IAAK,GACpB,IAAI,CAACuC,KAAK,CAACsF,eAAe,CAC9B;IAED,IAAI,IAAI,CAAC/F,SAAS,EAAE;MAClBmC,UAAU,CAAC;QAAM,OAAApD,KAAI,CAAC4E,SAAS,CAAC+B,IAAI,CAAC;MAApB,CAAoB,EAAE,GAAG,CAAC;MAC3C;;IAIF7B,cAAc,CAACH,CAAC,GAAGG,cAAc,CAACH,CAAC,GAAGzF,SAAS;IAE/C,IAAI,CAAC4B,IAAI,IAAIA,IAAI,KAAK,CAAC,EAAE;MACvBa,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;MAC1C;;IAEF,IAAI,CAACkD,cAAc,EAAE;MACnBnD,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;MACrD;;IAEF,IAAI,CAAClB,KAAK,IAAIA,KAAK,KAAK,CAAC,EAAE;MACzBiB,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC3C;;IAEF,IAAI,CAACX,SAAS,GAAG,IAAI;IACrBxC,QAAQ,CAACwI,QAAQ,CAAC,CAChBxI,QAAQ,CAACyI,MAAM,CAACrC,MAAM,CAAC/D,IAAI,EAAA+F,QAAA,CAAAA,QAAA,KACtBD,YAAY;MACfO,OAAO,EAAErG;IAAI,GACb,EACFrC,QAAQ,CAACyI,MAAM,CAACrC,MAAM,CAACjE,SAAS,EAAAiG,QAAA,CAAAA,QAAA,KAC3BD,YAAY;MACfO,OAAO,EAAErC;IAAc,GACvB,EACFrG,QAAQ,CAACyI,MAAM,CAACrC,MAAM,CAACnE,KAAK,EAAAmG,QAAA,CAAAA,QAAA,KACvBD,YAAY;MACfO,OAAO,EAAEzG;IAAK,GACd,CACH,CAAC,CAAC0G,KAAK,CAAC;MACPpH,KAAI,CAACiB,SAAS,GAAG,KAAK;MACtB,IAAIjB,KAAI,CAACgB,UAAU,EAAEhB,KAAI,CAACiD,QAAQ,CAAC;QAAE5C,UAAU,EAAEL,KAAI,CAACG,KAAK,CAACI;MAAQ,CAAE,CAAC;MACvE,IAAI4E,QAAQ,EAAEA,QAAQ,EAAE;IAC1B,CAAC,CAAC;EACJ,CAAC;EAEDtF,WAAA,CAAAyB,SAAA,CAAA+F,MAAM,GAAN;IAAA,IAAArH,KAAA;IACQ,IAAAqD,EAAA,GAIyB,IAAI,CAAClD,KAAK;MAHvCM,cAAc,GAAA4C,EAAA,CAAA5C,cAAA;MACdF,QAAQ,GAAA8C,EAAA,CAAA9C,QAAA;MACRH,oBAAoB,GAAAiD,EAAA,CAAAjD,oBACmB;IACzC,IAAMkH,qBAAqB,GAAG1I,UAAU,CAAC2I,OAAO,CAAC,IAAI,CAAC7F,KAAK,CAAC8B,YAAY,CAAC;IACzE,IAAMD,SAAS,GAAG,IAAI,CAAC7B,KAAK,CAAC6B,SAAS,IAAItE,kBAAkB;IAC5D,IAAMiG,IAAI,GAAG,IAAI,CAACb,OAAO,EAAE;IAE3B,IAAMmD,cAAc,GAAAX,QAAA,CAAAA,QAAA;MAClBY,QAAQ,EAAE;IAAmB,GAC1BrH,oBAAoB;MACvBsH,SAAS,EAAE,CACT;QAAEC,UAAU,EAAElH,cAAc,CAACG,SAAS,CAAC8D;MAAC,CAAE,EAC1C;QAAEkD,UAAU,EAAEnH,cAAc,CAACG,SAAS,CAAC+D;MAAC,CAAE,EAC1C;QAAEjE,KAAK,EAAED,cAAc,CAACC;MAAK,CAAE;IAChC,EACF;IAGC,IAAAmH,YAAY,GAMVP,qBAAqB,CAAAO,YANX;MACZC,WAAW,GAKTR,qBAAqB,CAAAQ,WALZ;MACXC,aAAa,GAIXT,qBAAqB,CAAAS,aAJV;MACbC,YAAY,GAGVV,qBAAqB,CAAAU,YAHX;MACZC,SAAS,GAEPX,qBAAqB,CAAAW,SAFd;MACNC,kBAAkB,GAAAC,MAAA,CACnBb,qBAAqB,EAPnB,6EAOL,CADsB;IAGvB,IAAMc,WAAW,GAAG;MAClBP,YAAY,EAAAA,YAAA;MACZC,WAAW,EAAAA,WAAA;MACXC,aAAa,EAAAA,aAAA;MACbC,YAAY,EAAAA;KACb;IAED,IAAMK,mBAAmB,GAAAxB,QAAA,CAAAA,QAAA,CAAAA,QAAA,KACpBzH,MAAM,CAACkJ,cAAc,GACrBJ,kBAAkB;MACrBD,SAAS,EAAAA;IAAA,EACV;IAMD,IAAI1H,QAAQ,EAAE;MACZ8H,mBAAmB,CAACE,QAAQ,GAAGhI,QAAQ,CAACiF,iBAAiB,CAAC5C,KAAK;MAC/DyF,mBAAmB,CAACG,SAAS,GAAGjI,QAAQ,CAACiF,iBAAiB,CAAC1C,MAAM;;IAGnE,IAAM2F,kBAAkB,GAAgC,EAAE;IAE1D,IAAIvD,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAACqG,KAAK,IAAIV,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAACoG,IAAI,EAAE;MAC3E8C,kBAAkB,CAACC,GAAG,GAAGxD,IAAI,CAACI,WAAW,CAACX,CAAC,GAAGO,IAAI,CAACT,aAAa,CAACE,CAAC,GAAGpB,SAAS,CAACT,MAAM;MACrF,IAAI0E,cAAc,CAAC5E,KAAK,EAAE4E,cAAc,CAAC5E,KAAK,IAAIW,SAAS,CAACT,MAAM;MAClE,IAAIoC,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAACqG,KAAK,EAAEyC,mBAAmB,CAACM,IAAI,GAAGpF,SAAS,CAACT,MAAM;KACpF,MAAM,IAAIoC,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAACwG,GAAG,IAAIb,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAACyG,MAAM,EAAE;MAClFyC,kBAAkB,CAACE,IAAI,GAAGzD,IAAI,CAACI,WAAW,CAACZ,CAAC,GAAGQ,IAAI,CAACT,aAAa,CAACC,CAAC,GAAInB,SAAS,CAACX,KAAK,GAAG,CAAE;MAC3F,IAAI4E,cAAc,CAAC1E,MAAM,EAAE0E,cAAc,CAAC1E,MAAM,IAAIS,SAAS,CAACT,MAAM;MACpE,IAAIoC,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAACyG,MAAM,EAAEqC,mBAAmB,CAACK,GAAG,GAAGnF,SAAS,CAACT,MAAM;;IAErF,QAAQoC,IAAI,CAACvB,SAAS;MACpB,KAAKpE,SAAS,CAACwG,GAAG;QAAE0C,kBAAkB,CAACG,MAAM,GAAG,CAAC;QAAE;MACnD,KAAKrJ,SAAS,CAACyG,MAAM;QAAEyC,kBAAkB,CAACC,GAAG,GAAG,CAAC;QAAE;MACnD,KAAKnJ,SAAS,CAACoG,IAAI;QAAE8C,kBAAkB,CAACI,KAAK,GAAG,CAAC;QAAE;MACnD,KAAKtJ,SAAS,CAACqG,KAAK;QAAE6C,kBAAkB,CAACE,IAAI,GAAG,CAAC;QAAE;MACnD;IAAQ;IAIV,IAAMG,eAAe,GAAGrI,cAAc,CAACK,IAAI,CAACiI,WAAW,CAAC;MACtDC,UAAU,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;MAC1BC,WAAW,EAAE,CAAC,CAAC,EAAE/J,SAAS,EAAEA,SAAS;KACtC,CAAC;IAEF,IAAMgK,eAAe,GAAArC,QAAA,CAAAA,QAAA,CAAAA,QAAA,KAChBzH,MAAM,CAAC+J,UAAU;MACpBzB,SAAS,EAAE,CAAC;QAAEE,UAAU,EAAEkB;MAAe,CAAE;IAAC,IACzClK,UAAU,CAAC2I,OAAO,CAAC,IAAI,CAAC7F,KAAK,CAACwH,eAAe,CAAC,CAClD;IAED,IAAME,cAAc,GAAAvC,QAAA,CAAAA,QAAA,KACfzH,MAAM,CAACiK,SAAS;MACnBC,OAAO,EAAE7I,cAAc,CAACK;IAAI,EAC7B;IAED,IAAMyI,eAAe,GAAGjC,qBAAqB,CAACiC,eAAe,IAC3DnK,MAAM,CAACkJ,cAAc,CAACiB,eAAe;IAEvC,OACEhL,KAAA,CAAAiL,aAAA,CAAC1K,IAAI;MAAC2K,aAAa,EAAC,UAAU;MAACC,KAAK,EAAE,CAACtK,MAAM,CAACiK,SAAS,EAAE;QAAEX,GAAG,EAAE,CAAC,CAAC,GAAGxJ;MAAS,CAAE;IAAC,GAC/EX,KAAA,CAAAiL,aAAA,CAAC1K,IAAI;MACH2K,aAAa,EAAC,UAAU;MACxBC,KAAK,EAAE,CAACtK,MAAM,CAACiK,SAAS,EAAE;QAAEX,GAAG,EAAExJ,SAAS;QAAEyK,IAAI,EAAE;MAAC,CAAE,CAAC;MACtDC,QAAQ,EAAE,SAAAA,SAAAC,GAAG;QAAI,OAAA7J,KAAI,CAAC0B,KAAK,CAACoI,oBAAoB,CAAC,IAAIrK,IAAI,CACvDoK,GAAG,CAACE,WAAW,CAACC,MAAM,CAACtF,CAAC,EACxBmF,GAAG,CAACE,WAAW,CAACC,MAAM,CAACrF,CAAC,GAAGzF,SAAS,EACpC2K,GAAG,CAACE,WAAW,CAACC,MAAM,CAACpH,KAAK,EAC5BiH,GAAG,CAACE,WAAW,CAACC,MAAM,CAAClH,MAAM,CAC9B,CAAC;MALe;IAKf,EACF,EACFvE,KAAA,CAAAiL,aAAA,CAAC/K,QAAQ,CAACK,IAAI;MAAC2K,aAAa,EAAC,UAAU;MAACC,KAAK,EAAEN;IAAc,GAC1D,IAAI,CAAC1H,KAAK,CAACuI,cAAc,KAAK,KAAK,IAClC1L,KAAA,CAAAiL,aAAA,CAAC3K,wBAAwB;MAACqL,OAAO,EAAE,IAAI,CAACxI,KAAK,CAACyI;IAAc,GAC1D5L,KAAA,CAAAiL,aAAA,CAAC/K,QAAQ,CAACK,IAAI;MAAC4K,KAAK,EAAER;IAAe,EAAI,CAE5C,EAED3K,KAAA,CAAAiL,aAAA,CAAC1K,IAAI;MAAC2K,aAAa,EAAC,UAAU;MAACC,KAAK,EAAA7C,QAAA;QAAI6B,GAAG,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAC,GAAKP,WAAW;IAAA,GACrE7J,KAAA,CAAAiL,aAAA,CAAC/K,QAAQ,CAACK,IAAI;MAAC4K,KAAK,EAAElC;IAAc,GAClCjJ,KAAA,CAAAiL,aAAA,CAAC1K,IAAI;MACHsL,GAAG,EAAE,IAAI,CAACjJ,UAAU;MACpBuI,KAAK,EAAErB,mBAAmB;MAC1BuB,QAAQ,EAAE,SAAAA,SAACC,GAAsB;QAC/B,IAAMG,MAAM,GAAAnD,QAAA,KAAQgD,GAAG,CAACE,WAAW,CAACC,MAAM,CAAE;QAC5C5G,UAAU,CACR;UAAM,OAAApD,KAAI,CAACgB,UAAU,IACnBhB,KAAI,CAAC2C,cAAc,CAAC,IAAIjD,IAAI,CAACsK,MAAM,CAACpH,KAAK,EAAEoH,MAAM,CAAClH,MAAM,CAAC,CAAC;QADtD,CACsD,EAC5D,EAAE,CACH;MACH;IAAC,GACA,IAAI,CAACpB,KAAK,CAAC2I,QAAQ,CACf,EACNnF,IAAI,CAACvB,SAAS,KAAKpE,SAAS,CAAC+K,QAAQ,IACpC/L,KAAA,CAAAiL,aAAA,CAACzK,KAAK;MACJqL,GAAG,EAAE,IAAI,CAAC/I,QAAQ;MAClBsC,SAAS,EAAEuB,IAAI,CAACvB,SAAS;MACzB4G,KAAK,EAAEhB,eAAe;MACtBhG,SAAS,EAAEA,SAAS;MACpBiH,aAAa,EAAE/B,kBAAkB;MACjCR,SAAS,EAAEA;IAAS,EACpB,CAEU,CACX,CACO,CACX;EAEX,CAAC;EACH,OAAApI,WAAC;AAAD,CAAC,CAnfwCrB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}